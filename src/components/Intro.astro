---
import { KOFI_URL } from "../config";
import BlogPostItem from "./BlogPostItem.astro";

export interface Props {
  recentPosts?: Array<{
    slug: string;
    frontmatter: {
      title: string;
      description?: string;
      date: Date;
      heroImage?: string;
      tags?: string[];
      external: boolean;
    };
    minutes: number;
    words: number;
  }>;
}

const { recentPosts = [] } = Astro.props;
---

<section class="mb-8">
  <div
    class="mb-12 relative pt-8 pb-6 border-b-4 border-primary-main/30 rounded-b"
  >
    <span class="absolute left-0 top-2 w-20 h-1 bg-primary-main rounded-full"
    ></span>
    <h1
      class="font-extrabold text-5xl md:text-6xl tracking-tight pb-2 overflow-hidden"
    >
      <span class="animated-gradient bg-clip-text text-transparent">
        FILIP MIKINA
      </span>
    </h1>
    <p class="text-xl text-text-muted">
      Solving problems with<sup class="text-xs">(out)</sup> code, duct tape, and
      <span class="line-through opacity-70 hover:opacity-100">coffee</span> empathy.
    </p>
  </div>

  <div class="mb-12">
    <h2
      class="text-2xl mb-4 text-text-bold flex items-center gap-3 px-4 py-3 bg-gradient-to-r from-primary-main/10 to-transparent rounded-lg border-l-4 border-primary-main"
    >
      <i class="fa-solid fa-user text-primary-main"></i>
      A little about me
    </h2>
    <p class="mb-4 text-text-body leading-relaxed">
      <span class="font-semibold">Let's start with the obvious:</span> the best code
      I've ever written is no code at all. I work at the intersection of <span
        class="font-medium text-gray-900 dark:text-white">SRE</span
      > and <span class="font-medium text-gray-900 dark:text-white"
        >software engineering</span
      > — I love writing code, but I'm always weighing whether it's worth the long-term
      cost. Every line you write is one you have to maintain, debug, and eventually
      replace. That's why I think carefully about adoption, rollout plans, and whether
      a solution justifies its complexity.
    </p>
    <p class="text-text-body leading-relaxed">
      At the same time, technology fascinates me. When I have the time, I love
      pushing boundaries and going right up to the edge of overengineering in
      personal projects. It's how I experiment, learn, and, honestly, what keeps
      me excited about building things.
    </p>
  </div>

  <div class="mb-12">
    <h2
      class="text-2xl mb-4 text-text-bold flex items-center gap-3 px-4 py-3 bg-gradient-to-r from-primary-main/10 to-transparent rounded-lg border-l-4 border-primary-main"
    >
      <i class="fa-solid fa-code text-primary-main"></i>
      What I work on
    </h2>
    <p class="mb-4 text-text-body leading-relaxed">
      Most days, you'll find me wrestling with distributed systems, making
      monitoring tools that don't suck, and trying to convince CI/CD pipelines
      to play nice. I've built systems that churn through 500k+ monitoring
      samples per second, process thousands of messages per second, and somehow
      managed to help teams ship faster without everything catching fire
      (well... not always?).
    </p>
    <p class="text-text-body leading-relaxed">
      Language-wise, I'm agnostic. I've shipped production code in Python,
      Scala, Java, TypeScript, Go, Bash, Hack/PHP — you name it. Go happens to
      be my current favorite, but tomorrow it might be something else. For me,
      the tool should fit the problem, not the other way around.
    </p>
  </div>

  <div class="mb-12">
    <h2
      class="text-2xl mb-4 text-text-bold flex items-center gap-3 px-4 py-3 bg-gradient-to-r from-primary-main/10 to-transparent rounded-lg border-l-4 border-primary-main"
    >
      <i class="fa-solid fa-briefcase text-primary-main"></i>
      Where I've been
    </h2>
    <p class="mb-4 text-text-body leading-relaxed">
      My career has been a bit of a tour through different corners of tech. I've
      worked at massive companies like Meta, Microsoft, Google, and Amazon,
      where you learn how systems scale (and break) at ridiculous volumes. I've
      also spent time at smaller, engineering-heavy places like Radix Trading,
      where every line of code matters and there's no room to hide behind
      process.
    </p>
    <p class="text-text-body leading-relaxed">
      One of the most eye-opening experiences was my time at GetInData, a
      consulting company where I primarily worked with startup clients.
      Consulting taught me how to quickly dive into someone else's codebase,
      understand their business problems, and deliver solutions under tight
      timelines.
    </p>
  </div>

  {
    recentPosts && recentPosts.length > 0 && (
      <div class="mb-12">
        <div class="mb-6 relative pt-6 pb-4 border-b-4 border-primary-main/30 rounded-b">
          <span class="absolute left-0 top-2 w-16 h-1 bg-primary-main rounded-full" />
          <h2 class="text-3xl font-bold text-primary-main flex items-center gap-3">
            <i class="fa-solid fa-pencil text-primary-main" />
            Recent Writing
          </h2>
        </div>
        <div class="space-y-6">
          {recentPosts.map((post) => (
            <BlogPostItem post={post} />
          ))}
        </div>
        <a
          href="/blog"
          class="inline-block mt-6 text-primary-main hover:underline text-sm font-medium"
          title="View all blog posts"
        >
          View all posts →
        </a>
      </div>
    )
  }

  <div
    class="mb-12 bg-gradient-to-br from-primary-main/10 via-primary-main/5 to-primary-main/15 dark:from-primary-main/15 dark:via-primary-main/8 dark:to-primary-main/20 p-6 rounded-lg border border-primary-main/30"
  >
    <h2 class="text-2xl mb-4 text-text-bold flex items-center gap-3">
      <i class="fa-solid fa-mug-hot text-primary-main"></i>
      Support This Work
    </h2>
    <p class="text-text-body leading-relaxed mb-4">
      This blog is <span class="font-semibold">free</span>, <span
        class="font-semibold">ad-free</span
      >, and has <span class="font-semibold">no tracking</span>. I believe in
      sharing knowledge without compromising your privacy or cluttering your
      reading experience.
    </p>
    <p class="text-text-body leading-relaxed mb-4">
      If you find the content valuable, consider supporting my work. Your
      contribution helps me continue writing and building in public.
    </p>
    <a
      href={KOFI_URL}
      target="_blank"
      rel="noopener noreferrer"
      class="unset inline-flex items-center gap-2 px-6 py-3 bg-primary-main text-white rounded font-semibold hover:opacity-90 hover:text-white transition-opacity"
      title="Support me on Ko-fi"
    >
      <i class="fa-solid fa-mug-hot"></i>
      Buy me a coffee
    </a>
  </div>

  <div
    class="flex flex-col sm:flex-row gap-4 mb-8 pt-4 border-t border-border-color"
  >
    <a
      href="https://drive.google.com/file/d/1j3yjmZPbzp_XJ6oBDBYijkWAPlOx_rp8/view?usp=sharing"
      target="_blank"
      rel="noopener noreferrer"
      class="unset flex-1 text-center px-6 py-3 border-2 border-primary-main text-primary-main rounded font-semibold hover:bg-primary-main hover:text-white transition-colors"
      title="View Filip Mikina's resume"
    >
      <i class="fa-solid fa-file-lines mr-2"></i>
      View Resume
    </a>
    <a
      href="/rss.xml"
      class="unset flex-1 text-center px-6 py-3 border-2 border-primary-main text-primary-main rounded font-semibold hover:bg-primary-main hover:text-white transition-colors"
      title="Subscribe to RSS feed"
    >
      <i class="fa-solid fa-rss mr-2"></i>
      Subscribe via RSS
    </a>
  </div>
</section>

<style>
  .animated-gradient {
    background: linear-gradient(
      90deg,
      #3b82f6,
      #2563eb,
      #1d4ed8,
      #7c3aed,
      #6366f1,
      #3b82f6
    );
    background-size: 300% 100%;
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
    animation: gradient-shift 3s ease-in-out infinite;
  }

  :global(.dark) .animated-gradient {
    background: linear-gradient(
      90deg,
      #34d399,
      #10b981,
      #059669,
      #14b8a6,
      #2dd4bf,
      #34d399
    );
    background-size: 300% 100%;
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  @keyframes gradient-shift {
    0% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
    100% {
      background-position: 0% 50%;
    }
  }
</style>
